# Программный компонент с алгоритмом управления взаимодействием диалоговой системы открытого домена и пользователями, а также выделением дискурсных структур в ходе беседы

Программный компонент с алгоритмом управления взаимодействием диалоговой системы открытого домена и пользователями, а также выделением дискурсных структур в ходе беседы реализует следующие функции в рамках диалога с пользователем:
- **идентифицирует** абстрактные намерения, характеризующие текущие реплики пользователя или диалоговой системы с точки зрения дискурсных структур; 
- **классифицирует** абстрактные намерения реплик-кандидатов;
- **определяет** наиболее вероятные последующие типы намерений в диалоге на основе стаитсики реальных диалогов;
- **выбирает** финальный ответ из реплик-кандидатов на основе классификации и предсказанных вероятных последующих абстрактных намерений.
Таким образом данный компонент помогает осуществлять эффективный диалоговый менеджмент на основе выделенных дискурсивных структур в диалогах между пользователем и системой на английском языке. 


## Запуск
Для запуска данного программмного компонента необходимо запустить следующую команду в корневой директории:
```
docker-compose -f docker-compose.yml -f assistant_dists/dream_ranking_and_sf_based_dm/docker-compose.override.yml -f assistant_di
sts/dream_ranking_and_sf_based_dm/proxy.yml -f assistant_dists/dream_ranking_and_sf_based_dm/dev.yml up --build --force-recreate
```

## Тестирование
Для тестирования на время работы компонента и формат входных и выходных данных необходимо запустить компонент, перейти в директорию компонента 'response_selectors/ranking_and_sf_based_response_selector' и из нее запустить следующую команду:
```
python test.py
```
Эффективность работы данного программного компонента оценивается с помощью фреймворка LLM-Eval на основе большой языковой модели gpt3.5-turbo. В рамках подхода LLM-Eval диалоги оцениваются по нескольким параметрам по шкале от 0 до 5. С помощью модели сравниваются диалоги на одинаковые темы, полученные в ходе общения пользователя с диалоговой системой с данным программным компонентом и без него. Для тестирования на время работы компонента и формат входных и выходных данных необходимо запустить компонент, перейти в директорию компонента 'response_selectors/ranking_and_sf_based_response_selector' и из нее запустить следующую команду:
```
python test_data_quality.py
```

Для тестирования на время восстановления после отказа необходимо остановить Docker-контейнер с компонентом и из директории компонента 'response_selectors/ranking_and_sf_based_response_selector' запустить следующую команду:
```
bash test_launch_time.sh