# Программный компонент, включающий в себя модель классификации для автоматического анализа дискурса

Программный компонент, включающий в себя модель классификации для автоматического анализа дискурса, позволяет определить намерение участника диалога, основываясь на текущей реплике и предыдущем контексте диалога. Данный программный компонент служит для анализа диалогов на английском языке.

## Начало работы
Перед началом работы необходимо убедиться в том, что:
- в текущем окружении установлена библиотеки requests, allure, pandas и scikit-learn.

## Запуск
Для запуска программмного компонента, включающего в себя модель классификации для автоматического анализа дискурса, необходимо запустить следующую команду в корневой директории:
```
docker-compose -f docker-compose.yml -f assistant_dists/dream_ranking_and_sf_based_dm/docker-compose.override.yml -f assistant_dists/dream_ranking_and_sf_based_dm/dev.yml up --build  speech-function-classifier
```

## Тестирование
Для тестирования на время работы компонента и формат входных и выходных данных необходимо запустить компонент, перейти в директорию компонента 'annotators/speech_function_classifier' и из нее запустить следующую команду:
```
python test_server.py
```

Качество работы программного компонента оценивается с помощью меры F1-weighted, в которой учитывается несбалансированное распределение классов. Для тестирования качества работы компонента необходимо запустить компонент, перейти в директорию компонента 'annotators/speech_function_classifier' и из нее запустить следующую команду:
```
python test_accuracy.py
```

Для тестирования на время восстановления после отказа необходимо остановить Docker-контейнер с компонентом и из директории компонента запустить следующую команду:
```
bash test_launch_time.sh