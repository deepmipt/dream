# Вопросно-ответная система на основе полнтотекстовой базы знаний

Вопросно-ответная система состоит из следующих компонентов:

- аннотатор **combined-classification** для предсказания того, является ли реплика пользователя вопросом;
- аннотатор **fact-retrieval** для извлечения релевантных параграфов;
- сервис **text-qa** для нахождения правильного ответа в релевантных параграфах.

## Запуск вопросно-ответной системы

Для запуска вопросно-ответной системы необходимо выполнить следующую команду из корневой директории:

``` 
docker-compose -f docker-compose.yml -f assistant_dists/dream/docker-compose.override.yml -f assistant_dists/dream/dev.yml up  --detach --build fact-retrieval text-qa combined-classification > build.log 2>&1
```
## Тестирование

Для тестирования вопросно-ответной системы необходимо выполнить следующую команду из корневой директории:

```
bash tests/text_qa_test.sh
```

Скрипт ```tests/text_qa_test.sh``` выполняет следующие шаги:

- запускает вопросно-ответную систему;
- скачивает датасет для тестирования;
- инициализирует среду для тестрирования;
- проводит тестирование и выводит результаты тестов консоль;
- останавливает сервис вопросно-ответной системы.

По окончанию работы сервиса в корневой директории создаются следующие файлы:

- ```tests.log``` - логи, отражающие результаты тестирования
- ```build.log``` и ```service_stopping.log``` - логи процесса запуска и остановки сервиса вопросно-ответной системы соответственно